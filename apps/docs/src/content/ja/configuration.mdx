export const metadata = {
  title: 'è¨­å®š',
  description:
    '.pcurc.jsonè¨­å®šã€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ«ãƒ¼ãƒ«ã€é«˜åº¦ãªã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã—ã¦ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã«åˆã‚ã›ã¦pnpm-catalog-updatesã‚’è¨­å®šã™ã‚‹æ–¹æ³•ã‚’å­¦ç¿’ã—ã¾ã™ã€‚',
};

# è¨­å®š

PCUã‚’ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ‹ãƒ¼ã‚ºã«åˆã‚ã›ã¦è¨­å®šã—ã¾ã™ã€‚è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å›ºæœ‰ã®ãƒ«ãƒ¼ãƒ«ã€é«˜åº¦ãªè¨­å®šã«ã¤ã„ã¦å­¦ç¿’ã—ã¾ã™ã€‚{{ className: 'lead' }}

## è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚¿ã‚¤ãƒ—

PCUã¯æ§˜ã€…ãªé–‹ç™ºãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã«å¯¾å¿œã™ã‚‹ãŸã‚ã€è¤‡æ•°ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼ã¨å ´æ‰€ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚

### ã‚µãƒãƒ¼ãƒˆã•ã‚Œã‚‹è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«

PCUã¯ä»¥ä¸‹ã®é †åºã§è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¤œç´¢ã—ã¾ã™ï¼ˆæœ€åˆã«è¦‹ã¤ã‹ã£ãŸã‚‚ã®ãŒæœ‰åŠ¹ï¼‰ï¼š

<Properties>
  <Property name=".pcurc.json" type="JSON">
    ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã®ãƒ¡ã‚¤ãƒ³JSONè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
  </Property>
  <Property name=".pcurc.js" type="JavaScript">
    å‹•çš„è¨­å®šã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹JavaScriptè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
  </Property>
  <Property name="pcu.config.js" type="JavaScript">
    ä»£æ›¿ã®JavaScriptè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«å
  </Property>
  <Property name="~/.pcurc.json" type="JSON">
    ãƒ›ãƒ¼ãƒ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®š
  </Property>
  <Property name="package.json" type="JSON">
    package.jsonã®"pcu"ã‚­ãƒ¼ä¸‹ã®è¨­å®š
  </Property>
</Properties>

### JavaScriptè¨­å®šã‚µãƒãƒ¼ãƒˆ

JavaScriptè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€ç’°å¢ƒã€ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹æ§‹é€ ã€ãã®ä»–ã®ãƒ©ãƒ³ã‚¿ã‚¤ãƒ æ¡ä»¶ã«åŸºã¥ãå‹•çš„è¨­å®šã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ï¼š

<CodeGroup>

```javascript {{ title: '.pcurc.js' }}
module.exports = {
  defaults: {
    target: process.env.NODE_ENV === 'production' ? 'minor' : 'latest',
    createBackup: true,
  },
  workspace: {
    autoDiscover: true,
    catalogMode: 'strict',
  },
  // ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹æ§‹é€ ã«åŸºã¥ãå‹•çš„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ«ãƒ¼ãƒ«
  packageRules: [
    {
      patterns: ['react*'],
      target: 'minor',
      requireConfirmation: process.env.CI !== 'true',
    },
  ],
  // ç’°å¢ƒå›ºæœ‰ã®è¨­å®š
  ...(process.env.NODE_ENV === 'development' && {
    ui: {
      theme: 'modern',
      progressBarStyle: 'fancy',
    },
  }),
};
```

```javascript {{ title: 'pcu.config.js with functions' }}
const fs = require('fs');
const path = require('path');

function getWorkspacePackages() {
  const workspaceFile = path.join(__dirname, 'pnpm-workspace.yaml');
  if (fs.existsSync(workspaceFile)) {
    // ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’å‹•çš„ã«è§£æ
    return ['packages/*', 'apps/*', 'tools/*'];
  }
  return ['packages/*'];
}

module.exports = {
  workspace: {
    packages: getWorkspacePackages(),
    catalogMode: 'flexible',
  },
  packageRules: [
    // æ—¢å­˜ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«åŸºã¥ã„ã¦ãƒ«ãƒ¼ãƒ«ã‚’ç”Ÿæˆ
    ...fs.readdirSync('./packages').map((pkg) => ({
      patterns: [`@myorg/${pkg}`],
      target: 'minor',
    })),
  ],
};
```

</CodeGroup>

### Package.jsonè¨­å®š

ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å ´åˆã€è¨­å®šã‚’package.jsonã«åŸ‹ã‚è¾¼ã‚€ã“ã¨ãŒã§ãã¾ã™ï¼š

```json
{
  "name": "my-project",
  "pcu": {
    "defaults": {
      "target": "minor",
      "createBackup": true
    },
    "packageRules": [
      {
        "patterns": ["@types/*"],
        "target": "latest",
        "autoUpdate": true
      }
    ]
  }
}
```

### è¨­å®šã®æ¤œè¨¼

PCUã¯è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’è‡ªå‹•çš„ã«æ¤œè¨¼ã—ã€ä¸€èˆ¬çš„ãªå•é¡Œã«å¯¾ã—ã¦è©³ç´°ãªã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’æä¾›ã—ã¾ã™ï¼š

#### æ¤œè¨¼æ©Ÿèƒ½

- **JSONã‚¹ã‚­ãƒ¼ãƒæ¤œè¨¼**ï¼šã™ã¹ã¦ã®è¨­å®šãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒæœ‰åŠ¹ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºä¿
- **ãƒ‘ã‚¿ãƒ¼ãƒ³æ¤œè¨¼**ï¼šãƒ¯ã‚¤ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åå½¢å¼ã‚’æ¤œè¨¼
- **å‹ãƒã‚§ãƒƒã‚¯**ï¼šã™ã¹ã¦ã®è¨­å®šå€¤ã®æ­£ã—ã„ãƒ‡ãƒ¼ã‚¿å‹ã‚’æ¤œè¨¼
- **ç«¶åˆæ¤œå‡º**ï¼šç«¶åˆã™ã‚‹ãƒ«ãƒ¼ãƒ«ã¨è¨­å®šã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’è­˜åˆ¥
- **ææ¡ˆã‚·ã‚¹ãƒ†ãƒ **ï¼šè¨­å®šã‚¨ãƒ©ãƒ¼ã®ä¿®æ­£ã«å½¹ç«‹ã¤ææ¡ˆã‚’æä¾›

#### æ¤œè¨¼ä¾‹

```bash
# ç¾åœ¨ã®è¨­å®šã‚’æ¤œè¨¼
pcu workspace --validate

# ä¸€èˆ¬çš„ãªæ¤œè¨¼ã‚¨ãƒ©ãƒ¼ã¨ææ¡ˆï¼š
# âŒ packageRules[0] ã®ç„¡åŠ¹ãªã‚¿ãƒ¼ã‚²ãƒƒãƒˆ "lastest"
#    ğŸ’¡ "latest"ã®ã“ã¨ã§ã™ã‹ï¼Ÿ
#
# âŒ ãƒ‘ã‚¿ãƒ¼ãƒ³ "react+" ã¯ç„¡åŠ¹ãªãƒ¯ã‚¤ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰æ§‹æ–‡ã§ã™
#    ğŸ’¡ "react"ã§å§‹ã¾ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ãƒãƒƒãƒã™ã‚‹ã«ã¯ "react*" ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„
#
# âš ï¸  ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ "react" ã«ç«¶åˆã™ã‚‹ãƒ«ãƒ¼ãƒ«ãŒã‚ã‚Šã¾ã™
#    ğŸ“ ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹0ã¨2ã®ãƒ«ãƒ¼ãƒ«ãŒã“ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ãƒãƒƒãƒã—ã¾ã™
```

<CodeGroup>

```json {{ title: 'åŸºæœ¬è¨­å®š' }}
{
  "defaults": {
    "target": "latest",
    "timeout": 30000,
    "parallel": 5
  },
  "workspace": {
    "autoDiscover": true,
    "catalogMode": "strict"
  },
  "output": {
    "format": "table",
    "color": true,
    "verbose": false
  }
}
```

```json {{ title: 'é«˜åº¦ãªè¨­å®š' }}
{
  "defaults": {
    "target": "minor",
    "createBackup": true
  },
  "update": {
    "interactive": true,
    "dryRunFirst": true,
    "skipPrereleases": false
  },
  "ui": {
    "theme": "modern",
    "progressBars": true,
    "animations": true
  },
  "advanced": {
    "concurrency": 5,
    "timeout": 30000,
    "retries": 3,
    "cacheValidityMinutes": 60
  }
}
```

</CodeGroup>

## ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°

åŒ…å«/é™¤å¤–ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å›ºæœ‰ã®ãƒ«ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã—ã¦ã€æ›´æ–°ã™ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’åˆ¶å¾¡ã—ã¾ã™ã€‚

<CodeGroup>

```json {{ title: 'ã‚·ãƒ³ãƒ—ãƒ«ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°' }}
{
  "exclude": ["typescript", "@types/node", "react", "react-dom"],
  "include": ["lodash*", "chalk", "commander"]
}
```

```json {{ title: 'ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ«ãƒ¼ãƒ«' }}
{
  "packageRules": [
    {
      "patterns": ["react", "react-dom"],
      "target": "minor",
      "requireConfirmation": true,
      "relatedPackages": ["@types/react", "@types/react-dom"]
    },
    {
      "patterns": ["@types/*"],
      "target": "latest",
      "autoUpdate": true
    },
    {
      "patterns": ["eslint*", "prettier"],
      "target": "minor",
      "groupUpdate": true
    }
  ]
}
```

</CodeGroup>

### ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ«ãƒ¼ãƒ«å±æ€§

<Properties>
  <Property name="patterns" type="string[]" required>
    ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åã‚’ãƒãƒƒãƒã™ã‚‹ãƒ¯ã‚¤ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰ãƒ‘ã‚¿ãƒ¼ãƒ³
  </Property>
  <Property name="target" type="enum">
    æ›´æ–°ã‚¿ãƒ¼ã‚²ãƒƒãƒˆï¼šlatestã€greatestã€minorã€patchã€newest
  </Property>
  <Property name="requireConfirmation" type="boolean">
    ã“ã‚Œã‚‰ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’æ›´æ–°ã™ã‚‹å‰ã«å¸¸ã«ç¢ºèªã™ã‚‹
  </Property>
  <Property name="autoUpdate" type="boolean">
    ç¢ºèªãªã—ã§è‡ªå‹•æ›´æ–°
  </Property>
  <Property name="relatedPackages" type="string[]">
    åŒã˜æ›´æ–°æˆ¦ç•¥ã«å¾“ã†ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
  </Property>
  <Property name="groupUpdate" type="boolean">
    é–¢é€£ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã¾ã¨ã‚ã¦æ›´æ–°
  </Property>
</Properties>

## ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®š

ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è„†å¼±æ€§ã‚¹ã‚­ãƒ£ãƒ³ã¨è‡ªå‹•ä¿®å¾©ã‚’è¨­å®šã—ã¾ã™ã€‚

```json
{
  "security": {
    "autoFixVulnerabilities": true,
    "allowMajorForSecurity": true,
    "notifyOnSecurityUpdate": true
  }
}
```

<Properties>
  <Property name="autoFixVulnerabilities" type="boolean">
    ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è„†å¼±æ€§ã‚’è‡ªå‹•ã§ãƒã‚§ãƒƒã‚¯ã—ã¦ä¿®å¾©
  </Property>
  <Property name="allowMajorForSecurity" type="boolean">
    ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¿®å¾©ã®ãŸã‚ã®ãƒ¡ã‚¸ãƒ£ãƒ¼ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã‚’è¨±å¯
  </Property>
  <Property name="notifyOnSecurityUpdate" type="boolean">
    ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ›´æ–°æ™‚ã«é€šçŸ¥ã‚’è¡¨ç¤º
  </Property>
</Properties>

## é«˜åº¦ãªè¨­å®š

é«˜åº¦ãªè¨­å®šã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¨å‹•ä½œã‚’å¾®èª¿æ•´ã—ã¾ã™ã€‚

```json
{
  "advanced": {
    "concurrency": 5,
    "timeout": 30000,
    "retries": 3,
    "cacheValidityMinutes": 60,
    "checkForUpdates": true
  }
}
```

<Properties>
  <Property name="concurrency" type="number" default="5">
    åŒæ™‚ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ•°
  </Property>
  <Property name="timeout" type="number" default="30000">
    ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆï¼ˆãƒŸãƒªç§’ï¼‰
  </Property>
  <Property name="retries" type="number" default="3">
    å¤±æ•—æ™‚ã®ãƒªãƒˆãƒ©ã‚¤å›æ•°
  </Property>
  <Property name="cacheValidityMinutes" type="number" default="60">
    ã‚­ãƒ£ãƒƒã‚·ãƒ¥æœ‰åŠ¹æœŸé™ï¼ˆ0ã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç„¡åŠ¹ï¼‰
  </Property>
  <Property name="checkForUpdates" type="boolean" default="true">
    èµ·å‹•æ™‚ã«PCUãƒ„ãƒ¼ãƒ«ã®æ›´æ–°ã‚’è‡ªå‹•ãƒã‚§ãƒƒã‚¯ã€‚CIç’°å¢ƒã§ã¯ã‚¹ã‚­ãƒƒãƒ—ã•ã‚Œã¾ã™ã€‚æ–°ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒã‚ã‚‹å ´åˆã€æ›´æ–°é€šçŸ¥ã¨ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ‰‹é †ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚
  </Property>
</Properties>

## UIè¨­å®š

è¦–è¦šçš„å¤–è¦³ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹è¨­å®šã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã—ã¾ã™ã€‚

```json
{
  "ui": {
    "theme": "modern",
    "progressBars": true,
    "progressBarStyle": "gradient",
    "animations": true
  },
  "output": {
    "format": "table",
    "color": true,
    "verbose": false
  }
}
```

### åˆ©ç”¨å¯èƒ½ãªãƒ†ãƒ¼ãƒ

- `default` - æ±ç”¨ä½¿ç”¨ã®ãƒãƒ©ãƒ³ã‚¹å–ã‚ŒãŸè‰²
- `modern` - é–‹ç™ºç’°å¢ƒç”¨ã®æ´»æ°—ã‚ã‚‹è‰²
- `minimal` - ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ç’°å¢ƒç”¨ã®ç°¡æ½”ãªã‚¹ã‚¿ã‚¤ãƒ«
- `neon` - ãƒ‡ãƒ¢ç”¨ã®é«˜ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆè‰²

### ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ã‚¹ã‚¿ã‚¤ãƒ«

PCUã¯æ“ä½œä¸­ã®è¦–è¦šçš„ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯å‘ä¸Šã®ãŸã‚ã€6ã¤ã®ç•°ãªã‚‹ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ï¼š

- `default` - åŸºæœ¬ã‚¹ã‚¿ã‚¤ãƒ«ã®æ¨™æº–ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼
- `gradient` - ãƒ¢ãƒ€ãƒ³ãªå¤–è¦³ã®ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³è‰²ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼
- `fancy` - è£…é£¾è¦ç´ ä»˜ãã®æ‹¡å¼µãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼
- `minimal` - ç°¡æ½”ãªãƒ—ãƒ­ã‚°ãƒ¬ã‚¹è¡¨ç¤º
- `rainbow` - æ´»æ°—ã‚ã‚‹è¡¨ç¤ºã®ã‚«ãƒ©ãƒ•ãƒ«ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼
- `neon` - ãƒã‚ªãƒ³ãƒ†ãƒ¼ãƒã«åˆã†é«˜ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼

**è¨­å®šä¾‹ï¼š**

```json
{
  "ui": {
    "theme": "modern",
    "progressBars": true,
    "progressBarStyle": "gradient"
  }
}
```

**ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ä½¿ç”¨ï¼š**

```bash
pcu check --progress-style fancy
pcu update --progress-style rainbow
pcu security --progress-style neon
```

## è¨­å®šå„ªå…ˆåº¦

è¨­å®šè¨­å®šã¯ä»¥ä¸‹ã®å„ªå…ˆé †ä½ã§é©ç”¨ã•ã‚Œã¾ã™ï¼š

1. **ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ãƒ•ãƒ©ã‚°**ï¼ˆæœ€é«˜å„ªå…ˆåº¦ï¼‰
2. `.pcurc.json`ã®**ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å›ºæœ‰ãƒ«ãƒ¼ãƒ«**
3. `.pcurc.json`ã®**ä¸€èˆ¬è¨­å®š**
4. **ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤**ï¼ˆæœ€ä½å„ªå…ˆåº¦ï¼‰

<Note>
  é–¢é€£ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯è‡ªå‹•çš„ã«è¦ªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ«ãƒ¼ãƒ«ã®è¨­å®šã‚’ç¶™æ‰¿ã—ã€ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸é–“ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ä¸€è²«æ€§ã‚’ä¿è¨¼ã—ã¾ã™ã€‚
</Note>

## ä¾‹

### Reactã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ 

```json
{
  "packageRules": [
    {
      "patterns": ["react", "react-dom"],
      "target": "minor",
      "requireConfirmation": true,
      "relatedPackages": ["@types/react", "@types/react-dom", "react-router-dom"]
    }
  ]
}
```

### TypeScriptãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ

```json
{
  "packageRules": [
    {
      "patterns": ["typescript"],
      "target": "minor",
      "requireConfirmation": true
    },
    {
      "patterns": ["@types/*"],
      "target": "latest",
      "autoUpdate": true
    }
  ]
}
```

### ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºè¨­å®š

```json
{
  "defaults": {
    "target": "minor",
    "createBackup": true
  },
  "security": {
    "autoFixVulnerabilities": true,
    "allowMajorForSecurity": true
  },
  "ui": {
    "theme": "minimal",
    "progressBars": true,
    "progressBarStyle": "minimal"
  },
  "advanced": {
    "concurrency": 3,
    "timeout": 60000
  },
  "exclude": ["typescript", "@types/node", "react", "react-dom"]
}
```

---

## ç’°å¢ƒå¤‰æ•°

ã™ã¹ã¦ã®CLIã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯è‡ªå‹•åŒ–ã¨CI/CDç’°å¢ƒã«é©å¿œã™ã‚‹ãŸã‚ã€ç’°å¢ƒå¤‰æ•°ã§è¨­å®šå¯èƒ½ã§ã™ï¼š

<CodeGroup>

```bash {{ title: 'ã‚°ãƒ­ãƒ¼ãƒãƒ«ç’°å¢ƒå¤‰æ•°' }}
# ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹è¨­å®š
export PCU_WORKSPACE="/path/to/workspace"
export PCU_VERBOSE=true
export PCU_NO_COLOR=true

# ãƒ¬ã‚¸ã‚¹ãƒˆãƒªè¨­å®š
export PCU_REGISTRY="https://npm.company.com/"
export PCU_TIMEOUT=30000

# è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
export PCU_CONFIG="/path/to/.pcurc.json"
```

```bash {{ title: 'ã‚³ãƒãƒ³ãƒ‰å›ºæœ‰å¤‰æ•°' }}
# ãƒã‚§ãƒƒã‚¯/æ›´æ–°å‹•ä½œ
export PCU_OUTPUT_FORMAT=json
export PCU_UPDATE_TARGET=minor
export PCU_CATALOG=default

# æ›´æ–°ã‚ªãƒ—ã‚·ãƒ§ãƒ³
export PCU_INTERACTIVE=true
export PCU_DRY_RUN=true
export PCU_CREATE_BACKUP=true
export PCU_FORCE=false

# ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
export PCU_INCLUDE="react*,@types/*"
export PCU_EXCLUDE="eslint*"
export PCU_PRERELEASE=false
```

</CodeGroup>

### ç’°å¢ƒå¤‰æ•°å„ªå…ˆåº¦

è¨­å®šã‚½ãƒ¼ã‚¹ã¯ä»¥ä¸‹ã®é †åºã§èª­ã¿è¾¼ã¾ã‚Œã¾ã™ï¼ˆå¾Œè€…ãŒå‰è€…ã‚’ä¸Šæ›¸ãï¼‰ï¼š

1. **å†…è”µãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤**ï¼ˆæœ€ä½å„ªå…ˆåº¦ï¼‰
2. **ã‚°ãƒ­ãƒ¼ãƒãƒ«è¨­å®š**ï¼ˆ`~/.pcurc.json`ï¼‰
3. **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š**ï¼ˆ`.pcurc.json`ï¼‰
4. **ç’°å¢ƒå¤‰æ•°**ï¼ˆ`PCU_*`ï¼‰
5. **ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ãƒ•ãƒ©ã‚°**ï¼ˆæœ€é«˜å„ªå…ˆåº¦ï¼‰

---

## ãƒ¬ã‚¸ã‚¹ãƒˆãƒªè¨­å®š

PCUã¯è‡ªå‹•çš„ã«NPMã¨PNPMè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ¬ã‚¸ã‚¹ãƒˆãƒªè¨­å®šã‚’èª­ã¿å–ã‚Šã¾ã™ï¼š

<CodeGroup>

```ini {{ title: '.npmrc / .pnpmrc' }}
# ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ¬ã‚¸ã‚¹ãƒˆãƒª
registry=https://registry.npmjs.org/

# ã‚¹ã‚³ãƒ¼ãƒ—ãƒ¬ã‚¸ã‚¹ãƒˆãƒª
@mycompany:registry=https://npm.mycompany.com/
@types:registry=https://registry.npmjs.org/

# èªè¨¼ãƒˆãƒ¼ã‚¯ãƒ³
//npm.mycompany.com/:_authToken=${NPM_TOKEN}
//registry.npmjs.org/:_authToken=${NPM_PUBLIC_TOKEN}

# ãƒ¬ã‚¬ã‚·ãƒ¼èªè¨¼ï¼ˆå¿…è¦ãªå ´åˆï¼‰
//npm.mycompany.com/:username=myuser
//npm.mycompany.com/:_password=base64encodedpassword
//npm.mycompany.com/:email=user@company.com

# SSLã¨ãƒ—ãƒ­ã‚­ã‚·è¨­å®š
strict-ssl=true
ca=/path/to/ca.pem
proxy=http://proxy.company.com:8080
https-proxy=http://proxy.company.com:8080
```

```json {{ title: 'PCUãƒ¬ã‚¸ã‚¹ãƒˆãƒªã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰' }}
{
  "registry": {
    "default": "https://registry.npmjs.org/",
    "scoped": {
      "@mycompany": "https://npm.mycompany.com/",
      "@types": "https://registry.npmjs.org/"
    },
    "auth": {
      "npm.mycompany.com": {
        "token": "${NPM_TOKEN}",
        "type": "Bearer"
      }
    },
    "timeout": 30000,
    "retries": 3,
    "userAgent": "pcu-custom/1.0.0"
  }
}
```

</CodeGroup>

### ãƒ¬ã‚¸ã‚¹ãƒˆãƒªå„ªå…ˆåº¦

1. **CLI `--registry`ãƒ•ãƒ©ã‚°**ï¼ˆæœ€é«˜å„ªå…ˆåº¦ï¼‰
2. **PCUè¨­å®š**ï¼ˆ`.pcurc.json`ãƒ¬ã‚¸ã‚¹ãƒˆãƒªã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼‰
3. **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ`.npmrc/.pnpmrc`**
4. **ã‚°ãƒ­ãƒ¼ãƒãƒ«`.npmrc/.pnpmrc`**
5. **ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆNPMãƒ¬ã‚¸ã‚¹ãƒˆãƒª**ï¼ˆæœ€ä½å„ªå…ˆåº¦ï¼‰

---

## æ‹¡å¼µã‚­ãƒ£ãƒƒã‚·ãƒ¥è¨­å®š

PCUã¯ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Šã®ãŸã‚ã®å…ˆé€²çš„ãªã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚·ã‚¹ãƒ†ãƒ ã‚’å«ã‚“ã§ã„ã¾ã™ï¼š

<CodeGroup>

```json {{ title: 'ã‚­ãƒ£ãƒƒã‚·ãƒ¥è¨­å®š' }}
{
  "cache": {
    "enabled": true,
    "ttl": 3600000,
    "maxSize": 52428800,
    "maxEntries": 10000,
    "persistToDisk": true,
    "cacheDir": "~/.pcu/cache",
    "strategy": "lru"
  }
}
```

```bash {{ title: 'ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç®¡ç†' }}
# ã™ã¹ã¦ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢
rm -rf ~/.pcu/cache

# è©³ç´°ãƒ¢ãƒ¼ãƒ‰ã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥æƒ…å ±ã‚’è¡¨ç¤º
pcu -c --verbose

# å˜å›å®Ÿè¡Œã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ç„¡åŠ¹ã«ã™ã‚‹
pcu -c --no-cache

# ã‚«ã‚¹ã‚¿ãƒ ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’è¨­å®š
export PCU_CACHE_DIR="/tmp/pcu-cache"
```

</CodeGroup>

### ã‚­ãƒ£ãƒƒã‚·ãƒ¥è¨­å®š

<Properties>
  <Property name="enabled" type="boolean" default="true">
    ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚·ã‚¹ãƒ†ãƒ ã‚’æœ‰åŠ¹/ç„¡åŠ¹ã«ã™ã‚‹
  </Property>
  <Property name="ttl" type="number" default="3600000">
    Time To Liveï¼ˆãƒŸãƒªç§’ï¼‰ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ1æ™‚é–“ï¼‰
  </Property>
  <Property name="maxSize" type="number" default="52428800">
    æœ€å¤§ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚µã‚¤ã‚ºï¼ˆãƒã‚¤ãƒˆï¼‰ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ50MBï¼‰
  </Property>
  <Property name="maxEntries" type="number" default="10000">
    æœ€å¤§ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¨ãƒ³ãƒˆãƒªæ•°
  </Property>
  <Property name="persistToDisk" type="boolean" default="true">
    å®Ÿè¡Œé–“ã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ãƒ‡ã‚£ã‚¹ã‚¯ã«ä¿å­˜
  </Property>
  <Property name="cacheDir" type="string" default="~/.pcu/cache">
    æ°¸ç¶šã‚­ãƒ£ãƒƒã‚·ãƒ¥ä¿å­˜ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
  </Property>
  <Property name="strategy" type="enum" default="lru">
    ã‚­ãƒ£ãƒƒã‚·ãƒ¥å‰Šé™¤æˆ¦ç•¥ï¼šlruã€fifoã€lfu
  </Property>
</Properties>

---

## æ¤œè¨¼è¨­å®š

PCUã¯æœ‰ç”¨ãªææ¡ˆä»˜ãã®åŒ…æ‹¬çš„ãªæ¤œè¨¼ã‚’å«ã‚“ã§ã„ã¾ã™ï¼š

<CodeGroup>

```json {{ title: 'æ¤œè¨¼è¨­å®š' }}
{
  "validation": {
    "strict": true,
    "warnOnRiskyUpdates": true,
    "requireConfirmationFor": ["major"],
    "suggestions": {
      "enabled": true,
      "includePerformanceTips": true,
      "includeBestPractices": true
    }
  }
}
```

```bash {{ title: 'æ¤œè¨¼ä¾‹' }}
# å³å¯†æ¤œè¨¼ãƒ¢ãƒ¼ãƒ‰ã‚’æœ‰åŠ¹ã«ã™ã‚‹
pcu -u --force  # ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä¸è¶³ã®è­¦å‘Šã‚’è¡¨ç¤º

# æ¤œè¨¼ææ¡ˆã‚’è¡¨ç¤º
pcu -c --verbose  # è¿½åŠ ã®ãƒ’ãƒ³ãƒˆã¨ææ¡ˆã‚’è¡¨ç¤º

# è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¤œè¨¼
node -e "console.log(JSON.parse(require('fs').readFileSync('.pcurc.json')))"
```

</CodeGroup>

### æ¤œè¨¼ã‚ªãƒ—ã‚·ãƒ§ãƒ³

<Properties>
  <Property name="strict" type="boolean" default="false">
    è¿½åŠ ãƒã‚§ãƒƒã‚¯ä»˜ãã®å³å¯†æ¤œè¨¼ãƒ¢ãƒ¼ãƒ‰ã‚’æœ‰åŠ¹ã«ã™ã‚‹
  </Property>
  <Property name="warnOnRiskyUpdates" type="boolean" default="true">
    æ½œåœ¨çš„ã«ãƒªã‚¹ã‚¯ã®ã‚ã‚‹æ›´æ–°ã«è­¦å‘Šã‚’è¡¨ç¤º
  </Property>
  <Property name="requireConfirmationFor" type="array" default="[]">
    ç¢ºèªãŒå¿…è¦ãªæ›´æ–°ã‚¿ã‚¤ãƒ—ï¼šmajorã€minorã€patch
  </Property>
  <Property name="suggestions.enabled" type="boolean" default="true">
    æœ‰ç”¨ãªææ¡ˆã¨ãƒ’ãƒ³ãƒˆã‚’æœ‰åŠ¹ã«ã™ã‚‹
  </Property>
  <Property name="suggestions.includePerformanceTips" type="boolean" default="true">
    ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ææ¡ˆã‚’å«ã‚ã‚‹
  </Property>
  <Property name="suggestions.includeBestPractices" type="boolean" default="true">
    ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ææ¡ˆã‚’å«ã‚ã‚‹
  </Property>
</Properties>

---

## ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒ¢ãƒ¼ãƒ‰è¨­å®š

ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¨ã‚¯ã‚¹ãƒšãƒªã‚¨ãƒ³ã‚¹ã‚’è¨­å®šã—ã¾ã™ï¼š

<CodeGroup>

```json {{ title: 'ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–è¨­å®š' }}
{
  "interactive": {
    "enabled": true,
    "pageSize": 15,
    "showPackageDescriptions": true,
    "showReleaseNotes": false,
    "autoComplete": {
      "enabled": true,
      "fuzzyMatching": true,
      "maxSuggestions": 10
    },
    "confirmations": {
      "majorUpdates": true,
      "forceUpdates": true,
      "multiplePackages": false
    }
  }
}
```

```bash {{ title: 'ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒ¢ãƒ¼ãƒ‰ä¾‹' }}
# ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒ¢ãƒ¼ãƒ‰ã‚’é–‹å§‹
pcu -i

# ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸èª¬æ˜ä»˜ãã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒ¢ãƒ¼ãƒ‰
pcu -i --verbose  # ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–é¸æŠã§ã‚ˆã‚Šè©³ç´°ãªæƒ…å ±ã‚’è¡¨ç¤º

# ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒ†ãƒ¼ãƒé¸æŠã‚’ä½¿ç”¨
pcu theme --interactive
```

</CodeGroup>

### ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–è¨­å®š

<Properties>
  <Property name="enabled" type="boolean" default="true">
    ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒ¢ãƒ¼ãƒ‰æ©Ÿèƒ½ã‚’æœ‰åŠ¹ã«ã™ã‚‹
  </Property>
  <Property name="pageSize" type="number" default="15">
    ãƒªã‚¹ãƒˆã®1ãƒšãƒ¼ã‚¸ã‚ãŸã‚Šã®è¡¨ç¤ºé …ç›®æ•°
  </Property>
  <Property name="showPackageDescriptions" type="boolean" default="false">
    é¸æŠãƒªã‚¹ãƒˆã§ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸èª¬æ˜ã‚’è¡¨ç¤º
  </Property>
  <Property name="showReleaseNotes" type="boolean" default="false">
    æ›´æ–°ã®ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆã‚’è¡¨ç¤ºï¼ˆãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãŒå¿…è¦ï¼‰
  </Property>
  <Property name="autoComplete.enabled" type="boolean" default="true">
    ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åã®è‡ªå‹•è£œå®Œã‚’æœ‰åŠ¹ã«ã™ã‚‹
  </Property>
  <Property name="autoComplete.fuzzyMatching" type="boolean" default="true">
    è‡ªå‹•è£œå®Œã®ãƒ•ã‚¡ã‚¸ãƒ¼ãƒãƒƒãƒãƒ³ã‚°ã‚’æœ‰åŠ¹ã«ã™ã‚‹
  </Property>
  <Property name="confirmations.majorUpdates" type="boolean" default="true">
    ãƒ¡ã‚¸ãƒ£ãƒ¼ãƒãƒ¼ã‚¸ãƒ§ãƒ³æ›´æ–°ã«ç¢ºèªãŒå¿…è¦
  </Property>
</Properties>

---

## Monorepoè¨­å®š

PCUã¯å¤§è¦æ¨¡monorepoã¨è¤‡é›‘ãªãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ç®¡ç†ã®ãŸã‚ã«ç‰¹åˆ¥ã«è¨­è¨ˆã•ã‚ŒãŸé«˜åº¦ãªæ©Ÿèƒ½ã‚’æä¾›ã—ã¾ã™ã€‚

### ãƒãƒ¼ã‚¸ãƒ§ãƒ³åŒæœŸ

monorepoå†…ã§é–¢é€£ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®åŒæœŸã‚’ä¿ã¡ã¾ã™ï¼š

<CodeGroup>

```json {{ title: 'ãƒãƒ¼ã‚¸ãƒ§ãƒ³åŒæœŸè¨­å®š' }}
{
  "monorepo": {
    "syncVersions": {
      "enabled": true,
      "groups": [
        {
          "name": "react-ecosystem",
          "packages": ["react", "react-dom", "@types/react", "@types/react-dom"],
          "strategy": "exact" // ã¾ãŸã¯ "compatible", "latest"
        },
        {
          "name": "testing-libraries",
          "packages": ["jest", "@testing-library/*", "@types/jest"],
          "strategy": "compatible"
        }
      ]
    },
    "catalogPriority": ["default", "react17", "node18"],
    "crossWorkspaceDependencies": {
      "analyze": true,
      "enforce": "warn" // "error", "warn", "off"
    }
  }
}
```

```json {{ title: 'å¤§è¦æ¨¡ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹æœ€é©åŒ–' }}
{
  "monorepo": {
    "performance": {
      "batchSize": 50,
      "concurrency": 15,
      "cacheWorkspaceStructure": true,
      "parallelCatalogProcessing": true
    },
    "workspacePackages": {
      "autoDiscover": true,
      "includePrivate": false,
      "excludePatterns": ["**/node_modules", "**/dist", "**/coverage"]
    }
  }
}
```

</CodeGroup>

### é«˜åº¦ãªãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ç®¡ç†

#### ã‚«ã‚¿ãƒ­ã‚°å„ªå…ˆåº¦ã‚·ã‚¹ãƒ†ãƒ 

ç«¶åˆãŒç™ºç”Ÿã—ãŸå ´åˆã«ã©ã®ã‚«ã‚¿ãƒ­ã‚°ãŒå„ªå…ˆã•ã‚Œã‚‹ã‹ã‚’å®šç¾©ã—ã¾ã™ï¼š

```json
{
  "catalogPriority": ["production", "default", "experimental"],
  "catalogConflictResolution": "priority" // ã¾ãŸã¯ "interactive", "error"
}
```

#### ã‚¯ãƒ­ã‚¹ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ä¾å­˜é–¢ä¿‚

ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸é–“ã®ä¾å­˜é–¢ä¿‚ã‚’åˆ†æãƒ»ç®¡ç†ã—ã¾ã™ï¼š

<Properties>
  <Property name="analyze" type="boolean" default="false">
    ã‚¯ãƒ­ã‚¹ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ä¾å­˜é–¢ä¿‚ã‚’åˆ†æ
  </Property>
  <Property name="enforce" type="enum" default="warn">
    ãƒãƒ¼ã‚¸ãƒ§ãƒ³ä¸ä¸€è‡´ã®å‡¦ç†æ–¹æ³•ï¼šerrorã€warnã€off
  </Property>
  <Property name="reportUnused" type="boolean" default="true">
    ã©ã®ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‹ã‚‰ã‚‚ä½¿ç”¨ã•ã‚Œã¦ã„ãªã„ã‚«ã‚¿ãƒ­ã‚°å†…ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’å ±å‘Š
  </Property>
  <Property name="validateVersions" type="boolean" default="true">
    ã™ã¹ã¦ã®ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒã‚«ã‚¿ãƒ­ã‚°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ã“ã¨ã‚’æ¤œè¨¼
  </Property>
</Properties>

### Monorepoå›ºæœ‰ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ«ãƒ¼ãƒ«

monorepoã®ç•°ãªã‚‹é ˜åŸŸã«å¯¾ã—ã¦è¤‡é›‘ãªãƒ«ãƒ¼ãƒ«ã‚’ä½œæˆã—ã¾ã™ï¼š

<CodeGroup>

```json {{ title: 'Monorepoãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ«ãƒ¼ãƒ«' }}
{
  "packageRules": [
    {
      "name": "ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸",
      "patterns": ["react*", "@types/react*", "next*"],
      "workspacePackages": ["apps/web", "apps/admin"],
      "target": "minor",
      "groupUpdate": true,
      "requireConfirmation": true
    },
    {
      "name": "ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ä¾å­˜é–¢ä¿‚",
      "patterns": ["express*", "@types/express*", "fastify*"],
      "workspacePackages": ["apps/api", "services/*"],
      "target": "patch",
      "autoUpdate": false
    },
    {
      "name": "é–‹ç™ºãƒ„ãƒ¼ãƒ«",
      "patterns": ["eslint*", "prettier", "typescript"],
      "workspacePackages": ["*"], // ã™ã¹ã¦ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
      "target": "latest",
      "autoUpdate": true,
      "excludeFromProduction": true
    }
  ]
}
```

</CodeGroup>

### ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹å›ºæœ‰è¨­å®š

monorepoã®ç•°ãªã‚‹éƒ¨åˆ†ã«å¯¾ã—ã¦ç•°ãªã‚‹è¨­å®šã‚’ä½¿ç”¨ã—ã¾ã™ï¼š

<CodeGroup>

```json {{ title: 'ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹æ¯ãƒ«ãƒ¼ãƒ«' }}
{
  "workspaceRules": {
    "apps/web": {
      "defaults": {
        "target": "minor",
        "createBackup": true
      },
      "packageRules": [
        {
          "patterns": ["react*"],
          "target": "patch"
        }
      ]
    },
    "packages/*": {
      "defaults": {
        "target": "latest",
        "requireConfirmation": false
      }
    },
    "tools/*": {
      "defaults": {
        "target": "latest",
        "autoUpdate": true
      }
    }
  }
}
```

</CodeGroup>

### å¤§è¦æ¨¡Monorepoã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

#### ãƒãƒƒãƒå‡¦ç†è¨­å®š

<Properties>
  <Property name="batchSize" type="number" default="20">
    ãƒãƒƒãƒã”ã¨ã«å‡¦ç†ã™ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸æ•°
  </Property>
  <Property name="concurrency" type="number" default="5">
    æœ€å¤§åŒæ™‚æ“ä½œæ•°
  </Property>
  <Property name="cacheWorkspaceStructure" type="boolean" default="true">
    å®Ÿè¡Œé–“ã§ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç™ºè¦‹ã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥
  </Property>
  <Property name="parallelCatalogProcessing" type="boolean" default="true">
    è¤‡æ•°ã‚«ã‚¿ãƒ­ã‚°ã‚’ä¸¦åˆ—å‡¦ç†
  </Property>
</Properties>

#### ãƒ¡ãƒ¢ãƒªç®¡ç†

```json
{
  "monorepo": {
    "memoryOptimization": {
      "streamingMode": true, // ã™ã¹ã¦ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ãƒ¡ãƒ¢ãƒªã«èª­ã¿è¾¼ã¾ãšã«å‡¦ç†
      "maxMemoryUsage": "2GB", // å¤§è¦æ¨¡ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ç”¨ã®ãƒ¡ãƒ¢ãƒªåˆ¶é™
      "temporaryFileCleanup": "immediate" // "immediate", "session-end", "manual"
    }
  }
}
```

### Monorepoæ¤œè¨¼

è¤‡é›‘ãªãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹è¨­å®šã®ãŸã‚ã®åŒ…æ‹¬çš„æ¤œè¨¼ï¼š

#### æ¤œè¨¼ãƒ«ãƒ¼ãƒ«

<Properties>
  <Property name="enforceWorkspaceProtocol" type="boolean" default="true">
    å†…éƒ¨ä¾å­˜é–¢ä¿‚ãŒworkspace:ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚’ç¢ºä¿
  </Property>
  <Property name="validateCatalogCoverage" type="boolean" default="true">
    ã™ã¹ã¦ã®ä¾å­˜é–¢ä¿‚ãŒã‚«ã‚¿ãƒ­ã‚°ã§ã‚«ãƒãƒ¼ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºä¿
  </Property>
  <Property name="requireConsistentVersions" type="boolean" default="false">
    ã™ã¹ã¦ã®ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒå…±æœ‰ä¾å­˜é–¢ä¿‚ã«åŒã˜ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚’è¦æ±‚
  </Property>
  <Property name="detectCircularDependencies" type="boolean" default="true">
    ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸é–“ã®å¾ªç’°ä¾å­˜é–¢ä¿‚ã‚’æ¤œå‡º
  </Property>
</Properties>

### Monorepoä½¿ç”¨ä¾‹

#### å¤§è¦æ¨¡ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºMonorepoè¨­å®š

```json
{
  "monorepo": {
    "syncVersions": {
      "enabled": true,
      "groups": [
        {
          "name": "core-frontend",
          "packages": ["react", "react-dom", "react-router", "@types/react*"],
          "strategy": "exact"
        },
        {
          "name": "ui-libraries",
          "packages": ["@company/design-system", "@company/components"],
          "strategy": "workspace"
        }
      ]
    },
    "performance": {
      "batchSize": 100,
      "concurrency": 20,
      "streamingMode": true
    },
    "workspaceRules": {
      "apps/*": { "target": "minor", "requireConfirmation": true },
      "packages/*": { "target": "latest", "autoUpdate": true },
      "tools/*": { "target": "latest", "autoUpdate": true }
    }
  }
}
```

#### CI/CDæœ€é©åŒ–è¨­å®š

```json
{
  "monorepo": {
    "ci": {
      "parallelCatalogProcessing": true,
      "skipInteractivePrompts": true,
      "generateReport": true,
      "reportFormat": "json",
      "exitOnError": true
    },
    "validation": {
      "enforceWorkspaceProtocol": true,
      "validateCatalogCoverage": true,
      "failOnInconsistentVersions": true
    }
  }
}
```
