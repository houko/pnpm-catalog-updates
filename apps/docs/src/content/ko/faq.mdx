export const metadata = {
  title: '자주 묻는 질문',
  description:
    'PCU (pnpm-catalog-updates)에 대한 자주 묻는 질문. 일반적인 질문과 문제에 대한 빠른 답변을 찾으세요.',
};

# 자주 묻는 질문

PCU에 대한 일반적인 질문에 대한 빠른 답변입니다. 찾고 있는 내용을 찾을 수 없으신가요? [문제 해결 가이드](/troubleshooting)를 확인하거나 [이슈를 등록](https://github.com/houko/pnpm-catalog-updates/issues)해 주세요. {{ className: 'lead' }}

## 설치 및 설정

### PCU를 어떻게 설치하나요?

PCU는 npm, pnpm 또는 yarn을 통해 전역적으로 설치할 수 있습니다:

<CodeGroup>

```bash {{ title: 'npm' }}
npm install -g pcu
```

```bash {{ title: 'pnpm' }}
pnpm add -g pnpm-catalog-updates
```

```bash {{ title: 'yarn' }}
yarn global add pnpm-catalog-updates
```

```bash {{ title: 'npx (설치 불필요)' }}
npx pnpm-catalog-updates check
```

</CodeGroup>

### 시스템 요구사항은 무엇인가요?

- **Node.js**: >= 18.0.0 (LTS 권장)
- **pnpm**: >= 8.0.0
- **운영체제**: Windows, macOS, Linux

### PCU를 사용하려면 pnpm 워크스페이스가 필요한가요?

네, PCU는 카탈로그 의존성을 사용하는 pnpm 워크스페이스를 위해 특별히 설계되었습니다. 아직 워크스페이스가 없다면 `pcu init`을 실행하여 생성하세요.

### npm이나 yarn 프로젝트에서 PCU를 사용할 수 있나요?

아니요, PCU는 카탈로그 의존성을 사용하는 pnpm 워크스페이스 전용입니다. 다른 패키지 관리자의 경우 `npm-check-updates`나 `yarn upgrade-interactive` 같은 도구를 고려해보세요.

## 구성

### `.pcurc.json` 구성을 어디에 두어야 하나요?

워크스페이스 루트 디렉토리(`pnpm-workspace.yaml`과 같은 레벨)에 두세요. PCU는 또한 다음을 지원합니다:

- 전역 구성: `~/.pcurc.json`
- 프로젝트 구성: `./.pcurc.json` (최우선순위)

### 워크스페이스 레벨과 전역 구성의 차이점은 무엇인가요?

- **전역** (`~/.pcurc.json`): 다른 프로젝트 간 모든 PCU 작업에 적용
- **프로젝트** (`./.pcurc.json`): 현재 워크스페이스에 특정하며 전역 설정을 재정의

### 다른 패키지에 대해 다른 업데이트 전략을 구성할 수 있나요?

네! 구성에서 패키지 규칙을 사용하세요:

```json
{
  "packageRules": [
    {
      "patterns": ["react", "react-dom"],
      "target": "minor",
      "requireConfirmation": true
    },
    {
      "patterns": ["@types/*"],
      "target": "latest",
      "autoUpdate": true
    }
  ]
}
```

## 명령어 및 사용법

### `pcu check`와 `pcu -c`의 차이점은 무엇인가요?

동일합니다! PCU는 전체 명령어 이름과 짧은 별칭을 모두 지원합니다:

- `pcu check` = `pcu -c`
- `pcu update` = `pcu -u`
- `pcu interactive` = `pcu -i`

### 특정 유형의 패키지만 업데이트하려면 어떻게 하나요?

`--include` 및 `--exclude` 플래그를 사용하세요:

```bash
# React 관련 패키지만 업데이트
pcu update --include "react*"

# 주요 프레임워크 변경사항을 제외한 모든 것 업데이트
pcu update --exclude "react*,vue*,angular*"

# 타입 정의만 업데이트
pcu update --include "@types/*"
```

### 업데이트 대상 간의 차이점은 무엇인가요?

- **`patch`**: 버그 수정만 (1.0.0 → 1.0.1)
- **`minor`**: 새 기능, 하위 호환 (1.0.0 → 1.1.0)
- **`latest`**: 주요 변경사항을 포함한 최신 안정 버전 (1.0.0 → 2.0.0)
- **`greatest`**: 프리릴리스를 포함한 최신 버전 (1.0.0 → 2.0.0-beta.1)

### 실제로 업데이트하기 전에 무엇이 업데이트될지 확인하려면 어떻게 하나요?

`--dry-run` 플래그를 사용하세요:

```bash
pcu update --dry-run --target minor
```

이것은 변경사항을 적용하지 않고 정확히 무엇이 업데이트될지 보여줍니다.

## 문제 해결

### PCU가 "pnpm 워크스페이스를 찾을 수 없음"이라고 하는 이유는 무엇인가요?

PCU가 현재 디렉토리에서 `pnpm-workspace.yaml` 파일을 찾을 수 없다는 의미입니다. 해결방법:

1. **워크스페이스 생성**: `pcu init` 실행
2. **워크스페이스 루트로 이동**: `pnpm-workspace.yaml`이 있는 디렉토리로 `cd`
3. **워크스페이스 경로 지정**: `pcu -c --workspace /path/to/workspace`

### PCU가 "카탈로그 의존성을 찾을 수 없음"이라고 하는 이유는 무엇인가요?

워크스페이스가 아직 카탈로그 의존성을 사용하지 않습니다. 다음이 필요합니다:

1. **워크스페이스 파일의 카탈로그**:

   ```yaml
   # pnpm-workspace.yaml
   packages:
     - 'packages/*'

   catalog:
     react: ^18.2.0
     typescript: ^5.0.0
   ```

2. **패키지에서 카탈로그 사용**:
   ```json
   {
     "dependencies": {
       "react": "catalog:",
       "typescript": "catalog:"
     }
   }
   ```

### PCU가 매우 느리게 실행됩니다. 성능을 어떻게 개선할 수 있나요?

다음 최적화를 시도해보세요:

1. **동시성 줄이기**: `pcu check --concurrency 2`
2. **타임아웃 늘리기**: `pcu check --timeout 60000`
3. **캐싱 활성화**: `PCU_CACHE_ENABLED=true` 확인 (기본값)
4. **필터링 사용**: 특정 패키지에 대해 `pcu check --include "react*"`

### "ENOTFOUND registry.npmjs.org" 오류를 어떻게 수정하나요?

이것은 네트워크 연결 문제입니다:

1. **인터넷 연결 확인**: `ping registry.npmjs.org`
2. **프록시 구성**: `HTTP_PROXY` 및 `HTTPS_PROXY` 환경 변수 설정
3. **기업 레지스트리 사용**: 회사 레지스트리로 `.npmrc` 구성
4. **타임아웃 늘리기**: `PCU_TIMEOUT=120000 pcu check`

## 보안

### PCU는 보안 취약점을 어떻게 처리하나요?

PCU는 npm audit 및 선택적으로 Snyk과 통합됩니다:

```bash
# 취약점 확인
pcu security

# 보안 문제 자동 수정
pcu security --fix-vulns

# Snyk 스캔 포함
pcu security --snyk --severity high
```

### 모든 보안 취약점을 자동 수정해야 하나요?

`--auto-fix` 사용 시 주의하세요:

- ✅ **안전**: 보안 수정을 위한 패치 및 마이너 업데이트
- ⚠️ **검토 필요**: 앱을 손상시킬 수 있는 메이저 버전 업데이트
- ❌ **피하기**: 테스트 없이 프로덕션에서 무분별하게 자동 수정

### 보안 경고 오탐을 어떻게 처리하나요?

`.pcurc.json`에서 무시된 취약점을 구성하세요:

```json
{
  "security": {
    "ignoredVulnerabilities": ["CVE-2021-23337"],
    "ignoredPackages": ["lodash@4.17.20"],
    "customAuditConfig": {
      "low": "ignore",
      "moderate": "warn"
    }
  }
}
```

## 워크플로 및 CI/CD

### CI/CD 파이프라인에서 PCU를 사용할 수 있나요?

물론입니다! PCU는 자동화를 위해 설계되었습니다:

```bash
# CI 친화적 명령어
PCU_NO_COLOR=true pcu check --format json
pcu security --format json --severity critical
```

완전한 예제는 [CI/CD 통합 가이드](/cicd)를 참조하세요.

### 자동화된 의존성 업데이트 PR을 어떻게 생성하나요?

PCU를 GitHub Actions, GitLab CI 또는 다른 플랫폼과 함께 사용하세요:

```yaml
- name: 의존성 업데이트
  run: |
    pcu update --target minor --create-backup
    # 변경사항으로 PR 생성
```

전체 워크플로는 [CI/CD 통합 가이드](/cicd)를 확인하세요.

### 팀 협업을 위한 최적의 워크플로는 무엇인가요?

1. **공유 구성**: `.pcurc.json`을 버전 관리에 커밋
2. **정기 검토**: 주간 의존성 검토 회의 일정
3. **보안 우선**: 항상 보안 업데이트를 우선시
4. **점진적 업데이트**: 대량 일괄 업데이트보다 작고 빈번한 업데이트 선호
5. **테스트**: 업데이트 후 병합하기 전에 항상 테스트

## 고급 사용법

### 하나의 워크스페이스에서 여러 카탈로그를 사용할 수 있나요?

네! PNPM은 여러 카탈로그를 지원합니다:

```yaml
# pnpm-workspace.yaml
packages:
  - 'packages/*'

catalog:
  react: ^18.2.0

catalogs:
  react17:
    react: ^17.0.2
  experimental:
    react: ^19.0.0-beta
```

그런 다음 패키지에서 사용하세요:

```json
{
  "dependencies": {
    "react": "catalog:react17"
  }
}
```

### 특정 패키지 업데이트의 영향을 어떻게 분석하나요?

분석 명령어를 사용하세요:

```bash
# React 업데이트의 영향 분석
pcu analyze default react 18.3.0

# 모든 카탈로그 확인
pcu analyze react17 react 17.0.3
```

### 특정 패키지를 업데이트에서 영구적으로 제외할 수 있나요?

네, `.pcurc.json`에서 제외사항을 구성하세요:

```json
{
  "exclude": ["react", "vue", "@types/node"],
  "packageRules": [
    {
      "patterns": ["critical-*"],
      "exclude": true
    }
  ]
}
```

### 100개 이상의 패키지가 있는 모노레포를 어떻게 처리하나요?

대규모 모노레포를 위한 성능 팁:

1. **배치 처리**: 고급 설정에서 `batchSize: 10` 구성
2. **동시성 줄이기**: 레지스트리 과부하를 피하기 위해 `concurrency: 2` 설정
3. **필터링 사용**: `--include` 패턴으로 패키지를 그룹별로 처리
4. **캐싱 활성화**: 캐싱이 활성화되고 올바르게 구성되었는지 확인
5. **메모리 증가**: `NODE_OPTIONS="--max-old-space-size=8192"` 설정

## 오류 메시지

### "피어 의존성을 해결할 수 없습니다"

이것은 패키지 버전이 충돌할 때 발생합니다. 해결방법:

1. **관련 패키지를 함께 업데이트**: `pcu update --include "react*"`
2. **대화형 모드 사용**: `pcu update --interactive`로 신중하게 버전 선택
3. **피어 의존성 확인**: 각 패키지가 요구하는 것을 검토
4. **여러 카탈로그 사용**: 충돌하는 버전을 다른 카탈로그로 분리

### ".pcurc.json의 구성이 유효하지 않습니다"

구성 파일에 JSON 구문 오류가 있습니다:

```bash
# JSON 구문 검증
node -e "JSON.parse(require('fs').readFileSync('.pcurc.json', 'utf8'))"

# 필요시 구성 재생성
mv .pcurc.json .pcurc.json.backup
pcu init --force
```

### "명령어를 찾을 수 없습니다: pcu"

설치 또는 PATH 문제:

1. **전역 재설치**: `npm install -g pcu`
2. **PATH 확인**: npm 전역 bin이 PATH에 있는지 확인
3. **npx 사용**: 대안으로 `npx pnpm-catalog-updates check`
4. **pnpm 사용**: `pnpm add -g pnpm-catalog-updates` (권장)

## 통합 및 도구

### PCU가 Renovate 또는 Dependabot과 호환되나요?

PCU는 이러한 도구의 대안이며, 보완재가 아닙니다:

- **PCU**: 수동 제어, pnpm 전용, 카탈로그 중심
- **Renovate**: 자동화된 PR, 많은 패키지 관리자 지원
- **Dependabot**: GitHub 통합, 자동화된 보안 업데이트

워크플로 선호도에 따라 선택하세요. 마이그레이션에 대해서는 [마이그레이션 가이드](/examples#migration-from-other-tools)를 참조하세요.

### PCU를 IDE와 통합할 수 있나요?

공식 IDE 확장은 없지만 다음을 할 수 있습니다:

1. **npm 스크립트 추가**: `package.json`에서 명령어 구성
2. **작업 실행기 사용**: VS Code 작업 또는 유사한 것과 통합
3. **터미널 통합**: 대부분의 IDE가 터미널 통합을 지원

### PCU가 사설 npm 레지스트리를 지원하나요?

네! PCU는 `.npmrc` 구성을 읽습니다:

```ini
# .npmrc
@mycompany:registry=https://npm.company.com/
//npm.company.com/:_authToken=${NPM_TOKEN}
```

PCU는 각 패키지 스코프에 대해 올바른 레지스트리를 자동으로 사용합니다.

---

## 여전히 질문이 있으신가요?

- 📖 **문서**: 포괄적인 [명령어 참조](/command-reference)를 확인하세요
- 🛠️ **문제 해결**: [문제 해결 가이드](/troubleshooting)를 방문하세요
- 🐛 **버그 신고**: [이슈 생성](https://github.com/houko/pnpm-catalog-updates/issues)
- 💬 **토론**: [GitHub 토론](https://github.com/houko/pnpm-catalog-updates/discussions)
