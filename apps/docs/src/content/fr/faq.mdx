export const metadata = {
  title: 'FAQ',
  description:
    'Questions fr√©quentes sur PCU (pnpm-catalog-updates). Trouvez des r√©ponses rapides aux questions et probl√®mes courants.',
};

# Questions Fr√©quentes

R√©ponses rapides aux questions courantes sur PCU. Vous ne trouvez pas ce que vous cherchez ? Consultez notre [guide de d√©pannage](/troubleshooting) ou [ouvrez un ticket](https://github.com/houko/pnpm-catalog-updates/issues). {{ className: 'lead' }}

## Installation et Configuration

### Comment installer PCU ?

PCU peut √™tre install√© globalement via npm, pnpm ou yarn :

<CodeGroup>

```bash {{ title: 'npm' }}
npm install -g pcu
```

```bash {{ title: 'pnpm' }}
pnpm add -g pnpm-catalog-updates
```

```bash {{ title: 'yarn' }}
yarn global add pnpm-catalog-updates
```

```bash {{ title: 'npx (sans installation)' }}
npx pnpm-catalog-updates check
```

</CodeGroup>

### Quelles sont les exigences syst√®me ?

- **Node.js**: >= 18.0.0 (version LTS recommand√©e)
- **pnpm**: >= 8.0.0
- **Syst√®me d'exploitation**: Windows, macOS, Linux

### Ai-je besoin d'un espace de travail pnpm pour utiliser PCU ?

Oui, PCU est sp√©cifiquement con√ßu pour les espaces de travail pnpm avec des d√©pendances de catalogue. Si vous n'avez pas encore d'espace de travail, ex√©cutez `pcu init` pour en cr√©er un.

### Puis-je utiliser PCU avec des projets npm ou yarn ?

Non, PCU est exclusivement pour les espaces de travail pnpm utilisant les d√©pendances de catalogue. Pour d'autres gestionnaires de packages, consid√©rez des outils comme `npm-check-updates` ou `yarn upgrade-interactive`.

## Configuration

### O√π dois-je placer mon fichier de configuration `.pcurc.json` ?

Placez-le dans le r√©pertoire racine de votre espace de travail (m√™me niveau que `pnpm-workspace.yaml`). PCU prend √©galement en charge :

- Configuration globale : `~/.pcurc.json`
- Configuration de projet : `./.pcurc.json` (priorit√© la plus √©lev√©e)

### Quelle est la diff√©rence entre la configuration au niveau de l'espace de travail et globale ?

- **Globale** (`~/.pcurc.json`) : Appliqu√©e √† toutes les op√©rations PCU dans diff√©rents projets
- **Projet** (`./.pcurc.json`) : Sp√©cifique √† l'espace de travail actuel, remplace les param√®tres globaux

### Puis-je configurer diff√©rentes strat√©gies de mise √† jour pour diff√©rents packages ?

Oui ! Utilisez les r√®gles de packages dans votre configuration :

```json
{
  "packageRules": [
    {
      "patterns": ["react", "react-dom"],
      "target": "minor",
      "requireConfirmation": true
    },
    {
      "patterns": ["@types/*"],
      "target": "latest",
      "autoUpdate": true
    }
  ]
}
```

## Commandes et Utilisation

### Quelle est la diff√©rence entre `pcu check` et `pcu -c` ?

Elles sont identiques ! PCU prend en charge les noms de commandes complets et les alias courts :

- `pcu check` = `pcu -c`
- `pcu update` = `pcu -u`
- `pcu interactive` = `pcu -i`

### Comment mettre √† jour seulement des types sp√©cifiques de packages ?

Utilisez les drapeaux `--include` et `--exclude` :

```bash
# Mettre √† jour uniquement les packages li√©s √† React
pcu update --include "react*"

# Mettre √† jour tout sauf les changements majeurs de frameworks
pcu update --exclude "react*,vue*,angular*"

# Mettre √† jour uniquement les d√©finitions de types
pcu update --include "@types/*"
```

### Quelle est la diff√©rence entre les cibles de mise √† jour ?

- **`patch`** : Corrections de bugs uniquement (1.0.0 ‚Üí 1.0.1)
- **`minor`** : Nouvelles fonctionnalit√©s, r√©trocompatibles (1.0.0 ‚Üí 1.1.0)
- **`latest`** : Derni√®re version stable incluant les changements majeurs (1.0.0 ‚Üí 2.0.0)
- **`greatest`** : Derni√®re version incluant les pr√©-versions (1.0.0 ‚Üí 2.0.0-beta.1)

### Comment v√©rifier ce qui sera mis √† jour avant de faire la mise √† jour ?

Utilisez le drapeau `--dry-run` :

```bash
pcu update --dry-run --target minor
```

Cela vous montre exactement ce qui serait mis √† jour sans apporter de modifications.

## D√©pannage

### Pourquoi PCU dit "Aucun espace de travail pnpm trouv√©" ?

Cela signifie que PCU ne peut pas trouver un fichier `pnpm-workspace.yaml` dans votre r√©pertoire actuel. Solutions :

1. **Cr√©er un espace de travail** : Ex√©cutez `pcu init`
2. **Naviguer vers la racine de l'espace de travail** : `cd` vers le r√©pertoire contenant `pnpm-workspace.yaml`
3. **Sp√©cifier le chemin de l'espace de travail** : `pcu -c --workspace /path/to/workspace`

### Pourquoi PCU dit "Aucune d√©pendance de catalogue trouv√©e" ?

Votre espace de travail n'utilise pas encore les d√©pendances de catalogue. Vous avez besoin de :

1. **Catalogue dans le fichier d'espace de travail** :

   ```yaml
   # pnpm-workspace.yaml
   packages:
     - 'packages/*'

   catalog:
     react: ^18.2.0
     typescript: ^5.0.0
   ```

2. **Utiliser les catalogues dans les packages** :
   ```json
   {
     "dependencies": {
       "react": "catalog:",
       "typescript": "catalog:"
     }
   }
   ```

### PCU fonctionne tr√®s lentement. Comment puis-je am√©liorer les performances ?

Essayez ces optimisations :

1. **R√©duire la concurrence** : `pcu check --concurrency 2`
2. **Augmenter le timeout** : `pcu check --timeout 60000`
3. **Activer le cache** : Assurez-vous que `PCU_CACHE_ENABLED=true` (par d√©faut)
4. **Utiliser le filtrage** : `pcu check --include "react*"` pour des packages sp√©cifiques

### Comment corriger les erreurs "ENOTFOUND registry.npmjs.org" ?

C'est un probl√®me de connectivit√© r√©seau :

1. **V√©rifier la connexion internet** : `ping registry.npmjs.org`
2. **Configurer le proxy** : D√©finir les variables d'environnement `HTTP_PROXY` et `HTTPS_PROXY`
3. **Utiliser un registre d'entreprise** : Configurer `.npmrc` avec le registre de votre entreprise
4. **Augmenter le timeout** : `PCU_TIMEOUT=120000 pcu check`

## S√©curit√©

### Comment PCU g√®re-t-il les vuln√©rabilit√©s de s√©curit√© ?

PCU s'int√®gre avec npm audit et optionnellement Snyk :

```bash
# V√©rifier les vuln√©rabilit√©s
pcu security

# Auto-correction des probl√®mes de s√©curit√©
pcu security --fix-vulns

# Inclure le scan Snyk
pcu security --snyk --severity high
```

### Dois-je auto-corriger toutes les vuln√©rabilit√©s de s√©curit√© ?

Utilisez la prudence avec `--auto-fix` :

- ‚úÖ **S√ªr** : Mises √† jour de patch et mineures pour les corrections de s√©curit√©
- ‚ö†Ô∏è **√Ä r√©viser** : Mises √† jour de versions majeures qui pourraient casser votre app
- ‚ùå **√âviter** : Auto-correction aveugle en production sans tests

### Comment g√©rer les fausses alertes de s√©curit√© ?

Configurez les vuln√©rabilit√©s ignor√©es dans `.pcurc.json` :

```json
{
  "security": {
    "ignoredVulnerabilities": ["CVE-2021-23337"],
    "ignoredPackages": ["lodash@4.17.20"],
    "customAuditConfig": {
      "low": "ignore",
      "moderate": "warn"
    }
  }
}
```

## Flux de Travail et CI/CD

### Puis-je utiliser PCU dans les pipelines CI/CD ?

Absolument ! PCU est con√ßu pour l'automatisation :

```bash
# Commandes compatibles CI
PCU_NO_COLOR=true pcu check --format json
pcu security --format json --severity critical
```

Consultez notre [guide d'int√©gration CI/CD](/cicd) pour des exemples complets.

### Comment cr√©er des PR automatis√©es de mise √† jour de d√©pendances ?

Utilisez PCU avec GitHub Actions, GitLab CI ou d'autres plateformes :

```yaml
- name: Mettre √† jour les d√©pendances
  run: |
    pcu update --target minor --create-backup
    # Cr√©er une PR avec les changements
```

Consultez le [guide d'int√©gration CI/CD](/cicd) pour des flux complets.

### Quel est le meilleur flux de travail pour la collaboration d'√©quipe ?

1. **Configuration partag√©e** : Commitez `.pcurc.json` dans le contr√¥le de version
2. **R√©visions r√©guli√®res** : Planifiez des r√©unions hebdomadaires de r√©vision des d√©pendances
3. **S√©curit√© d'abord** : Priorisez toujours les mises √† jour de s√©curit√©
4. **Mises √† jour incr√©mentales** : Pr√©f√©rez des mises √† jour plus petites et fr√©quentes plut√¥t que de gros lots
5. **Tests** : Testez toujours apr√®s les mises √† jour avant de fusionner

## Utilisation Avanc√©e

### Puis-je utiliser plusieurs catalogues dans un espace de travail ?

Oui ! PNPM prend en charge plusieurs catalogues :

```yaml
# pnpm-workspace.yaml
packages:
  - 'packages/*'

catalog:
  react: ^18.2.0

catalogs:
  react17:
    react: ^17.0.2
  experimental:
    react: ^19.0.0-beta
```

Puis les utiliser dans les packages :

```json
{
  "dependencies": {
    "react": "catalog:react17"
  }
}
```

### Comment analyser l'impact de la mise √† jour d'un package sp√©cifique ?

Utilisez la commande d'analyse :

```bash
# Analyser l'impact de la mise √† jour de React
pcu analyze default react 18.3.0

# V√©rifier tous les catalogues
pcu analyze react17 react 17.0.3
```

### Puis-je exclure d√©finitivement certains packages des mises √† jour ?

Oui, configurez les exclusions dans `.pcurc.json` :

```json
{
  "exclude": ["react", "vue", "@types/node"],
  "packageRules": [
    {
      "patterns": ["critical-*"],
      "exclude": true
    }
  ]
}
```

### Comment g√©rer les monorepos avec plus de 100 packages ?

Conseils de performance pour les grands monorepos :

1. **Traitement par lots** : Configurez `batchSize: 10` dans les param√®tres avanc√©s
2. **R√©duire la concurrence** : D√©finissez `concurrency: 2` pour √©viter de surcharger le registre
3. **Utiliser le filtrage** : Traitez les packages par groupes avec des patterns `--include`
4. **Activer le cache** : Assurez-vous que le cache est activ√© et bien configur√©
5. **Augmenter la m√©moire** : D√©finissez `NODE_OPTIONS="--max-old-space-size=8192"`

## Messages d'Erreur

### "Cannot resolve peer dependencies"

Cela arrive quand les versions de packages sont en conflit. Solutions :

1. **Mettre √† jour les packages li√©s ensemble** : `pcu update --include "react*"`
2. **Utiliser le mode interactif** : `pcu update --interactive` pour choisir les versions soigneusement
3. **V√©rifier les peer dependencies** : Examiner ce que chaque package requiert
4. **Utiliser plusieurs catalogues** : S√©parer les versions conflictuelles dans diff√©rents catalogues

### "Invalid configuration in .pcurc.json"

Votre fichier de configuration a des erreurs de syntaxe JSON :

```bash
# Valider la syntaxe JSON
node -e "JSON.parse(require('fs').readFileSync('.pcurc.json', 'utf8'))"

# R√©g√©n√©rer la config si n√©cessaire
mv .pcurc.json .pcurc.json.backup
pcu init --force
```

### "Command not found: pcu"

Probl√®mes d'installation ou de PATH :

1. **R√©installer globalement** : `npm install -g pcu`
2. **V√©rifier le PATH** : Assurez-vous que npm global bin est dans votre PATH
3. **Utiliser npx** : `npx pnpm-catalog-updates check` comme alternative
4. **Utiliser pnpm** : `pnpm add -g pnpm-catalog-updates` (recommand√©)

## Int√©gration et Outils

### PCU fonctionne-t-il avec Renovate ou Dependabot ?

PCU est une alternative √† ces outils, pas un compl√©ment :

- **PCU** : Contr√¥le manuel, sp√©cifique √† pnpm, ax√© sur les catalogues
- **Renovate** : PR automatis√©es, prend en charge de nombreux gestionnaires de packages
- **Dependabot** : Int√©gr√© √† GitHub, mises √† jour de s√©curit√© automatis√©es

Choisissez selon vos pr√©f√©rences de flux de travail. Pour la migration, consultez notre [guide de migration](/examples#migration-from-other-tools).

### Puis-je int√©grer PCU avec mon IDE ?

Bien qu'il n'y ait pas d'extension IDE officielle, vous pouvez :

1. **Ajouter des scripts npm** : Configurer des commandes dans `package.json`
2. **Utiliser des ex√©cuteurs de t√¢ches** : Int√©grer avec les t√¢ches VS Code ou similaires
3. **Int√©gration terminal** : La plupart des IDE prennent en charge l'int√©gration terminal

### PCU prend-il en charge les registres npm priv√©s ?

Oui ! PCU lit votre configuration `.npmrc` :

```ini
# .npmrc
@mycompany:registry=https://npm.company.com/
//npm.company.com/:_authToken=${NPM_TOKEN}
```

PCU utilisera automatiquement le bon registre pour chaque scope de package.

---

## Vous avez encore des questions ?

- üìñ **Documentation** : Consultez notre [r√©f√©rence des commandes](/command-reference) compl√®te
- üõ†Ô∏è **D√©pannage** : Visitez notre [guide de d√©pannage](/troubleshooting)
- üêõ **Rapports de bugs** : [Cr√©er un ticket](https://github.com/houko/pnpm-catalog-updates/issues)
- üí¨ **Discussions** : [GitHub Discussions](https://github.com/houko/pnpm-catalog-updates/discussions)
